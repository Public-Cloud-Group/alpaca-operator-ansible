- name: Test Alpaca Groups Module against Test Hosts
  hosts: test
  gather_facts: false

  tasks:

    - name: Remove all commands in system ansible01
      pcg.alpaca_operator.alpaca_command_set:
        system:
          systemName: ansible01
        commands: []
        apiConnection:
          host: "{{ inventory_hostname }}"
          protocol: "{{ ALPACA_Operator_API_Protocol }}"
          port: "{{ ALPACA_Operator_API_Port }}"
          username: "{{ ALPACA_Operator_API_Username }}"
          password: "{{ ALPACA_Operator_API_Password }}"
          tls_verify: "{{ ALPACA_Operator_API_Validate_Certs }}"

    - name: Remove system ansible01
      pcg.alpaca_operator.alpaca_system:
        name: ansible01
        state: absent
        apiConnection:
          host: "{{ inventory_hostname }}"
          protocol: "{{ ALPACA_Operator_API_Protocol }}"
          port: "{{ ALPACA_Operator_API_Port }}"
          username: "{{ ALPACA_Operator_API_Username }}"
          password: "{{ ALPACA_Operator_API_Password }}"
          tls_verify: "{{ ALPACA_Operator_API_Validate_Certs }}"

    - name: Remove group ansible_testing_group_01
      pcg.alpaca_operator.alpaca_group:
        name: ansible_testing_group_01
        state: absent
        apiConnection:
          host: "{{ inventory_hostname }}"
          protocol: "{{ ALPACA_Operator_API_Protocol }}"
          port: "{{ ALPACA_Operator_API_Port }}"
          username: "{{ ALPACA_Operator_API_Username }}"
          password: "{{ ALPACA_Operator_API_Password }}"
          tls_verify: "{{ ALPACA_Operator_API_Validate_Certs }}"

    - name: Remove agent ansible_testing_agent_01
      pcg.alpaca_operator.alpaca_agent:
        name: ansible_testing_agent_01
        state: absent
        apiConnection:
          host: "{{ inventory_hostname }}"
          protocol: "{{ ALPACA_Operator_API_Protocol }}"
          port: "{{ ALPACA_Operator_API_Port }}"
          username: "{{ ALPACA_Operator_API_Username }}"
          password: "{{ ALPACA_Operator_API_Password }}"
          tls_verify: "{{ ALPACA_Operator_API_Validate_Certs }}"

    - name: Remove agent ansible_testing_agent_02
      pcg.alpaca_operator.alpaca_agent:
        name: ansible_testing_agent_02
        state: absent
        apiConnection:
          host: "{{ inventory_hostname }}"
          protocol: "{{ ALPACA_Operator_API_Protocol }}"
          port: "{{ ALPACA_Operator_API_Port }}"
          username: "{{ ALPACA_Operator_API_Username }}"
          password: "{{ ALPACA_Operator_API_Password }}"
          tls_verify: "{{ ALPACA_Operator_API_Validate_Certs }}"

    - name: Remove agent ansible_testing_agent_03
      pcg.alpaca_operator.alpaca_agent:
        name: ansible_testing_agent_03
        state: absent
        apiConnection:
          host: "{{ inventory_hostname }}"
          protocol: "{{ ALPACA_Operator_API_Protocol }}"
          port: "{{ ALPACA_Operator_API_Port }}"
          username: "{{ ALPACA_Operator_API_Username }}"
          password: "{{ ALPACA_Operator_API_Password }}"
          tls_verify: "{{ ALPACA_Operator_API_Validate_Certs }}"