---
# ALPACA Command Generator Variables
# Generated from CSV data on {{ ansible_date_time.iso8601 }}

# ALPACA API Configuration
alpaca_api:
  host: "{{ alpaca_api.host }}"
  protocol: "{{ alpaca_api.protocol }}"
  port: {{ alpaca_api.port }}
  username: "{{ alpaca_api.username }}"
  password: "{{ alpaca_api.password }}"
  tls_verify: {{ alpaca_api.tls_verify | lower }}

# CSV Processing Summary
csv_summary:
  total_rows: {{ csv_data | length }}
  sla_breakdown:
    SLA1: {{ csv_data | selectattr('system_sla', 'equalto', 'SLA1') | list | length }}
    SLA2: {{ csv_data | selectattr('system_sla', 'equalto', 'SLA2') | list | length }}
    SLA3: {{ csv_data | selectattr('system_sla', 'equalto', 'SLA3') | list | length }}
    SLA4: {{ csv_data | selectattr('system_sla', 'equalto', 'SLA4') | list | length }}

# Command Generation Summary
command_summary:
  total_commands: {{ expanded_command_data | length }}
  individual_files: {{ individual_files_generated | default(0) }}
  consolidated_file: {{ consolidated_file_generated | default(false) }}

# System Types Found
system_types:
{% for system_type in csv_data | map(attribute='system_type') | unique | list %}
  - {{ system_type }}
{% endfor %}

# Generated Files
generated_files:
  output_directory: "{{ output_config.output_dir }}"
  individual_commands: "{{ individual_files_generated | default(0) }} files"
  consolidated_playbook: "{{ output_config.consolidated_file }}"
  inventory_file: "{{ output_config.inventory_file }}"
  variables_file: "{{ output_config.variables_file }}"
  readme_file: "{{ output_config.readme_file }}" 